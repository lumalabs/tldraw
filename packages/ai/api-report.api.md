## API Report File for "@tldraw/ai"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import type { Box } from 'tldraw';
import type { BoxModel } from 'tldraw';
import { Editor } from 'tldraw';
import type { TLBinding } from 'tldraw';
import type { TLBindingCreate } from 'tldraw';
import type { TLBindingId } from 'tldraw';
import type { TLBindingUpdate } from 'tldraw';
import type { TLContent } from 'tldraw';
import type { TLShape } from 'tldraw';
import type { TLShapeId } from 'tldraw';
import type { TLShapePartial } from 'tldraw';

// @public (undocumented)
export function asMessage(message: TLAiMessages): TLAiMessage[];

// @public
export function defaultApplyChange({ change, editor, }: {
    change: TLAiStreamingChange;
    editor: Editor;
}): void;

// @public
export type TLAiChange = TLAiCreateBindingChange | TLAiCreateShapeChange | TLAiCustomChange | TLAiDeleteBindingChange | TLAiDeleteShapeChange | TLAiUpdateBindingChange | TLAiUpdateShapeChange;

// @public (undocumented)
export type TLAiContent = Omit<TLContent, 'rootShapeIds' | 'schema'> & {
    bindings: TLBinding[];
};

// @public (undocumented)
export interface TLAiCreateBindingChange<B extends TLBinding = TLBinding> {
    // (undocumented)
    binding: TLBindingCreate<B>;
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    type: 'createBinding';
}

// @public (undocumented)
export interface TLAiCreateShapeChange<T extends TLShape = TLShape> {
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    shape: TLShapePartial<T>;
    // (undocumented)
    type: 'createShape';
}

// @public (undocumented)
export interface TLAiCustomChange {
    // (undocumented)
    [key: string]: any;
    // (undocumented)
    complete: boolean;
    // (undocumented)
    type: 'custom';
}

// @public (undocumented)
export interface TLAiDeleteBindingChange {
    // (undocumented)
    bindingId: TLBindingId;
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    type: 'deleteBinding';
}

// @public (undocumented)
export interface TLAiDeleteShapeChange {
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    shapeId: TLShapeId;
    // (undocumented)
    type: 'deleteShape';
}

// @public (undocumented)
export interface TLAiImageMessage {
    // (undocumented)
    mimeType: string;
    // (undocumented)
    src: string;
    // (undocumented)
    type: 'image';
}

// @public (undocumented)
export type TLAiMessage = TLAiImageMessage | TLAiTextMessage;

// @public (undocumented)
export type TLAiMessages = string | TLAiMessage | TLAiMessage[];

// @public
export interface TLAiPrompt {
    canvasContent: TLAiContent;
    contextBounds: Box;
    image?: string;
    message: string | TLAiMessage[];
    meta?: any;
    promptBounds: Box;
}

// @public
export interface TLAiResult {
    // (undocumented)
    changes: TLAiChange[];
}

// @public
export interface TLAiSerializedPrompt extends Omit<TLAiPrompt, 'contextBounds' | 'promptBounds'> {
    contextBounds: BoxModel;
    promptBounds: BoxModel;
}

// @public (undocumented)
export type TLAiStreamingChange = (Partial<TLAiChange> & {
    complete: false;
}) | (TLAiChange & {
    complete: true;
});

// @public (undocumented)
export interface TLAiTextMessage {
    // (undocumented)
    text: string;
    // (undocumented)
    type: 'text';
}

// @public (undocumented)
export interface TLAiUpdateBindingChange<B extends TLBinding = TLBinding> {
    // (undocumented)
    binding: TLBindingUpdate<B>;
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    type: 'updateBinding';
}

// @public (undocumented)
export interface TLAiUpdateShapeChange<T extends TLShape = TLShape> {
    // (undocumented)
    complete: boolean;
    // (undocumented)
    description: string;
    // (undocumented)
    shape: Omit<TLShapePartial<T>, 'type'> & {
        type?: T['type'];
    };
    // (undocumented)
    type: 'updateShape';
}

// @public (undocumented)
export interface TldrawAi {
    // (undocumented)
    cancel(): void;
    // (undocumented)
    prompt(message: TldrawAiPromptOptions): {
        cancel(): void;
        promise: Promise<void>;
    };
    // (undocumented)
    repeat(): {
        cancel: (() => void) | null;
        promise: Promise<void>;
    };
}

// @public
export type TldrawAiApplyFn = (opts: {
    change: TLAiStreamingChange;
    editor: Editor;
}) => void;

// @public
export type TldrawAiGenerateFn = (opts: {
    editor: Editor;
    prompt: TLAiSerializedPrompt;
    signal: AbortSignal;
}) => Promise<TLAiChange[]>;

// @public
export class TldrawAiModule {
    constructor(opts?: TldrawAiModuleOptions);
    // (undocumented)
    dispose(): void;
    generate(prompt: {
        message: TLAiMessages;
        stream?: boolean;
    } | string): Promise<{
        handleChange: (change: TLAiStreamingChange, apply: TldrawAiApplyFn) => void;
        prompt: TLAiPrompt;
    }>;
    getPrompt(prompt: TLAiMessages, options?: Partial<Pick<TLAiPrompt, "canvasContent" | "contextBounds" | "promptBounds">>): Promise<TLAiPrompt>;
    // (undocumented)
    readonly opts: TldrawAiModuleOptions;
}

// @public (undocumented)
export interface TldrawAiModuleOptions {
    // (undocumented)
    editor: Editor;
    // (undocumented)
    transforms?: TldrawAiTransformConstructor[];
}

// @public (undocumented)
export interface TldrawAiOptions extends Omit<TldrawAiModuleOptions, 'editor'> {
    // (undocumented)
    apply?: TldrawAiApplyFn;
    // (undocumented)
    editor?: Editor;
    // (undocumented)
    generate?: TldrawAiGenerateFn;
    // (undocumented)
    stream?: TldrawAiStreamFn;
}

// @public (undocumented)
export type TldrawAiPromptOptions = {
    message: TLAiPrompt['message'];
    meta?: TLAiPrompt['meta'];
    stream?: boolean;
} | string;

// @public
export type TldrawAiStreamFn = (opts: {
    editor: Editor;
    prompt: TLAiSerializedPrompt;
    signal: AbortSignal;
}) => AsyncGenerator<TLAiStreamingChange>;

// @public (undocumented)
export abstract class TldrawAiTransform {
    constructor(editor: Editor);
    // (undocumented)
    editor: Editor;
    transformChange?(change: TLAiStreamingChange): TLAiStreamingChange;
    transformChanges?(changes: TLAiStreamingChange[]): TLAiStreamingChange[];
    transformPrompt?(prompt: TLAiPrompt): TLAiPrompt;
}

// @public (undocumented)
export interface TldrawAiTransformConstructor {
    // (undocumented)
    new (editor: Editor): TldrawAiTransform;
}

// @public (undocumented)
export function useTldrawAi(opts: TldrawAiOptions): TldrawAi;

// (No @packageDocumentation comment for this package)

```
